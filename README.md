1、开发中Java用了比较多的数据结构有哪些？（待补充arraylist,treemap）
ArrayList。HashMap。

2、谈谈你对HashMap的理解，底层原理的基本实现，HashMap怎么解决碰撞问题的？
HashMap是数组+链表的结构。JDK8中，当链表的长度达到8时，链表会转成红黑树。通过红黑树快速增删改查的特点提高HashMap的性能。
第一次put操作时开辟一个16容量的哈希桶数组。每个元素是一个Entry对象。包含key,value,next,hash四个属性。
通过对key的hash算法确定entry元素的位置。hash算法的三个步骤：取key的hashCode值，位移异或，按位与运算。默认初始容量为16是为了符合Hash算法均匀分布原则。
key是null，放在0下标位置。如果没有碰撞，直接放在对应下标位置。如果碰撞了，看key是否相同，相同则覆盖value。不同则往链表头上插入元素，因为作者认为后插入的有更大概率被搜索。
此时如果元素个数达到数组容量*0.75负载因子时，数组会扩容为原来两倍。所有元素重新hash确定下标位置。频繁扩容会影响性能。所以《阿里巴巴开发手册》规定hashmap初始化时要指定大小。在多线程情况下同时rehash有可能会出现带环链表。所以高并发情况下使用concurrentHashmap。concurrenthashmap有2的n次方个segment。通过锁分段技术，每个segment高度自治，相互独立，降低锁的粒度。由此兼顾性能与安全。

3、What is an efficient way to implement a singleton pattern in Java?
public enum SingletonEnum {
    INSTANCE;
}
枚举的线程安全，底层已经做了保证。
枚举中的枚举项是通过static定义的。
当一个Java类第一次被真正使用到的时候静态资源被初始化、Java类的加载和初始化过程都是线程安全的（因为虚拟机在加载枚举的类的时候，会使用ClassLoader的loadClass方法，而这个方法使用同步代码块保证了线程安全）。所以，创建一个enum类型是线程安全的。

4、对JVM熟不熟悉？简单说说类加载过程，里面执行的那些操作？问了GC和内存管理，平时在tomcat里面有没有进行相关的配置。
JVM 虚拟机执行 class 字节码的过程可以分为七个阶段：加载、验证、准备、解析、初始化、使用、卸载。

5、然后问了http协议，get和post的基本区别，接着tcp/ip协议，三次握手，窗口滑动机制。

GET一般用于获取/查询 资源信息，而POST一般用于更新 资源信息。GET是幂等的，因为不会修改数据。POST不是幂等的。
GET参数通过URL传递，POST放在Request body中。
GET比POST更不安全，因为参数直接暴露在URL上，所以不能用来传递敏感信息。
GET请求在URL中传送的参数是有长度限制的，而POST没有。
对参数的数据类型，GET只接受ASCII字符，而POST没有限制。
GET请求只能进行url编码，而POST支持多种编码方式。
GET在浏览器回退时是无害的，而POST会再次提交请求。
GET产生的URL地址可以被收藏为书签，而POST不可以。
GET请求会被浏览器主动cache，而POST不会，除非手动设置。
GET请求参数会被完整保留在浏览器历史记录里，而POST中的参数不会被保留。






滑动窗口算法？

1. 首先是AB之间三次握手建立TCP连接。在报文的交互过程中，A将自己的缓冲区大小（窗口大小）3发送给B，B同理，这样双方就知道了对端的窗口大小。
2. A开始发送数据，A连续发送3个单位的数据，因为他知道B的缓冲区大小。在这一波数据发送完后，A就不能再发了，需等待B的确认。
3. A发送过来的数据逐渐将缓冲区填满。
4. 这时候缓冲区中的一个报文被进程读取，缓冲区有了一个空位，于是B向A发送一个ACK，这个报文中指示窗口大小为1。
A收到B发过来的ACK消息，并且知道B将窗口大小调整为1，因此他只发送了一个单位的数据并且等待B的下一个确认报文。
5. 如此反复。

TCP/IP协议是一个协议集合。

6、开发中用了那些数据库？回答mysql，储存引擎有哪些？然后问了我悲观锁和乐观锁问题使用场景、分布式集群实现的原理。

7、然后问了我springmvc和mybatis的工作原理，有没有看过底层源码？
https://www.zhihu.com/question/21346206/answer/391667981

8、redis存储类型、事务、使用场景。

二、京东金融面试

1、Dubbo超时重试；Dubbo超时时间设置

2、如何保障请求执行顺序

3、分布式事物与分布式锁（扣款不要出现负数）

4、分布式session设置

5、执行某操作，前50次成功，第51次失败a全部回滚b前50次提交第51次抛异常，ab场景分别如何设置Spring（传播性）

6、Zookeeper有哪些用

7、JVM内存模型

8、数据库垂直和水平拆分

9、MyBatis如何分页；如何设置缓存；MySQL分页

10、熟悉IO么？与NIO的区别，阻塞与非阻塞的区别

11、分布式session一致性

12、分布式接口的幂等性设计「不能重复扣款」

三、美团面试

1、最近做的比较熟悉的项目是哪个？画一下项目技术架构图

2、JVM老年代和新生代的比例？

3、YGC和FGC发生的具体场景

4、jstack，jmap，jutil分别的意义？如何线上排查JVM的相关问题？

5、线程池的构造类的方法的5个参数的具体意义？

6、单机上一个线程池正在处理服务如果忽然断电该怎么办？（正在处理和阻塞队列里的请求怎么处理）？

7、使用无界阻塞队列会出现什么问题？

8、接口如何处理重复请求？

9、具体处理方案是什么？

10、如何保证共享变量修改时的原子性？

11、设计一个对外服务的接口实现类，在1,2,3这三个主机（对应不同IP）上实现负载均衡和顺序轮询机制（考虑并发）


四、滴滴面试

1、自我介绍，技术特点

2、兴趣是什么，优势是什么

3、jvm，jre以及jdk三者之间的关系？

4、Dubbo的底层原理，Zookeeper是什么

5、cincurrentMap的机制；TreeMap；Volatil关键字

6、快速排序；广度优先搜索（队列实现）

7、缓存的雪崩以及穿透的理解？

8、HashMap的key可以重复吗？

9、synchronized和lock的区别？

10.开发一个大型网站你会考虑哪些问题?
